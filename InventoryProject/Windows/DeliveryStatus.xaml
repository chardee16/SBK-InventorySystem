<Window x:Class="InventoryProject.Windows.DeliveryStatus"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="Delivery Status"
        Height="639"
        Width="1229"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ResizeMode="NoResize"
        Background="#F5F5F5">

    <!-- OUTER SHADOW CONTAINER -->
    <materialDesign:Card Margin="10"
                         materialDesign:ElevationAssist.Elevation="Dp8"
                         Background="{DynamicResource MaterialDesignPaper}">

        <Grid Margin="0,0,0,-9">
            <Grid.RowDefinitions>
                <RowDefinition Height="50"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- HEADER BAR -->
            <Grid Grid.Row="0"
                  Background="{DynamicResource PrimaryHueMidBrush}"
                  MouseDown="Header_MouseDown">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="40"/>
                </Grid.ColumnDefinitions>

                <!-- TITLE -->
                <TextBlock Text="Delivery Status"
                           VerticalAlignment="Center"
                           Margin="16,0,0,0"
                           FontSize="18"
                           FontWeight="SemiBold"
                           Foreground="Black"/>

                <!-- CLOSE BUTTON -->
                <Button Grid.Column="1"
                        Width="40"
                        Height="40"
                        Background="Transparent"
                        BorderThickness="0"
                        Click="BTN_Close_Click"
                        ToolTip="Close"
                        Style="{StaticResource MaterialDesignToolButton}">
                    <materialDesign:PackIcon Kind="Close"
                                             Foreground="Black"/>
                </Button>
            </Grid>

            <!-- FILTER CARD -->
            <materialDesign:Card Grid.Row="1"
                                 Margin="20,15,20,10"
                                 Padding="20"
                                 materialDesign:ElevationAssist.Elevation="Dp2">

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="260"/>
                        <ColumnDefinition Width="220"/>
                        <ColumnDefinition Width="170"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Delivery Man -->
                    <ComboBox x:Name="CB_DeliveryMan"
                              Grid.Column="0"
                              Height="40"
                              ItemsSource="{Binding Path=userparam,UpdateSourceTrigger=PropertyChanged}"
                              materialDesign:HintAssist.Hint="Select Delivery"
                              Style="{StaticResource MaterialDesignFilledComboBox}"
                              DisplayMemberPath="Firstname"
                              SelectedValue="{Binding UserID}"
                              SelectedValuePath="UserID"/>

                    <!-- Date -->
                    <DatePicker x:Name="DP_Date"
                                SelectedDate="{Binding Path=Date}"
                                Grid.Column="1"
                                Margin="15,0,0,0"
                                Height="40"
                                materialDesign:HintAssist.Hint="Date"
                                Style="{StaticResource MaterialDesignFilledDatePicker}"/>

                    <!-- Load Button -->
                    <Button x:Name="BTN_Load"
                            Grid.Column="2"
                            Margin="15,0,0,0"
                            Height="40"
                            Background="#FFEAEAEA" BorderBrush="#FF2E2E2E" FontFamily="Tempus Sans ITC" FontWeight="Bold"
                            Content="LOAD STATUS"
                            Click="BTN_Load_Click"
                            />

                    <Button x:Name="BTN_Generate"
                            Grid.Column="3"
                            Margin="314,0,0,0"
                            Height="40"
                            Background="#FFEAEAEA" BorderBrush="#FF2E2E2E" FontFamily="Tempus Sans ITC" FontWeight="Bold"
                            Content="GENERATE REPORT"
                            Click="BTN_Generate_Click"
                            />
                </Grid>
            </materialDesign:Card>

            <!-- DATA GRID -->
            <materialDesign:Card Grid.Row="2"
                                 Margin="20,0,20,62"
                                 Padding="10"
                                 materialDesign:ElevationAssist.Elevation="Dp2">

                <DataGrid x:Name="DG_DeliveryStatus"
                          ItemsSource="{Binding Path=deliverystatus,UpdateSourceTrigger=PropertyChanged}"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          IsReadOnly="True"
                          Style="{StaticResource MaterialDesignDataGrid}">

                    <DataGrid.Columns>

                        <DataGridTextColumn Header="Item Code"
                                            Binding="{Binding ItemCode}"
                                            Width="*"/>

                        <DataGridTextColumn Header="Item Name"
                                            Binding="{Binding ItemDescription}"
                                            Width="180"/>

                        <DataGridTextColumn Header="Price"
                                            Binding="{Binding Price}"
                                            Width="*">

                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="TextAlignment" Value="Center"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>

                            <DataGridTextColumn.EditingElementStyle>
                                <Style TargetType="TextBox">
                                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                </Style>
                            </DataGridTextColumn.EditingElementStyle>
                        </DataGridTextColumn>

                        <DataGridTextColumn Header="Load Out"
                                            Binding="{Binding Out_For_Delivery}"
                                            Width="180"/>

                        <DataGridTextColumn Header="Delivered"
                                            Binding="{Binding Delivered}"
                                            Width="*"/>

                        <DataGridTextColumn Header="Remaining"
                                            Binding="{Binding Remaining}"
                                            Width="*"/>

                        <DataGridTextColumn Header="Total"
                                            Binding="{Binding TotalPriceDelivered}"
                                            Width="140">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="TextAlignment" Value="Center"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>

                            <DataGridTextColumn.EditingElementStyle>
                                <Style TargetType="TextBox">
                                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                </Style>
                            </DataGridTextColumn.EditingElementStyle>
                        </DataGridTextColumn>

                        <DataGridTemplateColumn Visibility="Hidden" Header="Return Remaining Items" Width="180">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Button Content="Click Here to Return"
                                        Height="30"
                                        Width="160"
                                        Margin="5,0,0,0"
                                        Style="{StaticResource MaterialDesignRaisedButton}"
                                        Click="ReturnButton_Click"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                    </DataGrid.Columns>
                </DataGrid>



            </materialDesign:Card>
            <Label Content="TOTAL SALES" FontSize="25" FontWeight="Bold" HorizontalContentAlignment="Right" Margin="851,419,197,18" Grid.Row="2"/>
            <TextBlock Text="{Binding Path=TotalSalesPrice,UpdateSourceTrigger=PropertyChanged,StringFormat='{}{0:#,#.00;#(#,##0.00)}'}" VerticalAlignment="Top" FontSize="25" FontWeight="Bold" Margin="1017,421,26,0" TextAlignment="Right" Grid.Row="2" Height="36"/>
        </Grid>


    </materialDesign:Card>
</Window>