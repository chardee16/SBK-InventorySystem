<Window x:Class="InventoryProject.Windows.DeliveryStatus"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="Delivery Status"
        Height="540"
        Width="950"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ResizeMode="NoResize"
        Background="#F5F5F5">

    <!-- OUTER SHADOW CONTAINER -->
    <materialDesign:Card Margin="10"
                         materialDesign:ElevationAssist.Elevation="Dp8"
                         Background="{DynamicResource MaterialDesignPaper}">

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="50"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- HEADER BAR -->
            <Grid Grid.Row="0"
                  Background="{DynamicResource PrimaryHueMidBrush}"
                  MouseDown="Header_MouseDown">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="40"/>
                </Grid.ColumnDefinitions>

                <!-- TITLE -->
                <TextBlock Text="Delivery Status"
                           VerticalAlignment="Center"
                           Margin="16,0,0,0"
                           FontSize="18"
                           FontWeight="SemiBold"
                           Foreground="Black"/>

                <!-- CLOSE BUTTON -->
                <Button Grid.Column="1"
                        Width="40"
                        Height="40"
                        Background="Transparent"
                        BorderThickness="0"
                        Click="BTN_Close_Click"
                        ToolTip="Close"
                        Style="{StaticResource MaterialDesignToolButton}">
                    <materialDesign:PackIcon Kind="Close"
                                             Foreground="Black"/>
                </Button>
            </Grid>

            <!-- FILTER CARD -->
            <materialDesign:Card Grid.Row="1"
                                 Margin="20,15,20,10"
                                 Padding="20"
                                 materialDesign:ElevationAssist.Elevation="Dp2">

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="260"/>
                        <ColumnDefinition Width="220"/>
                        <ColumnDefinition Width="170"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Delivery Man -->
                    <ComboBox x:Name="CB_DeliveryMan"
                              Grid.Column="0"
                              Height="40"
                              ItemsSource="{Binding Path=userparam,UpdateSourceTrigger=PropertyChanged}"
                              materialDesign:HintAssist.Hint="Delivery Man"
                              Style="{StaticResource MaterialDesignFilledComboBox}"
                              DisplayMemberPath="Firstname"
                              SelectedValue="{Binding UserID}"
                              SelectedValuePath="UserID"/>

                    <!-- Date -->
                    <DatePicker x:Name="DP_Date"
                                SelectedDate="{Binding Path=Date}"
                                Grid.Column="1"
                                Margin="15,0,0,0"
                                Height="40"
                                materialDesign:HintAssist.Hint="Date"
                                Style="{StaticResource MaterialDesignFilledDatePicker}"/>

                    <!-- Load Button -->
                    <Button x:Name="BTN_Load"
                            Grid.Column="2"
                            Margin="15,0,0,0"
                            Height="40"
                            Background="#FFEAEAEA" BorderBrush="#FF2E2E2E" FontFamily="Tempus Sans ITC" FontWeight="Bold"
                            Content="LOAD STATUS"
                            Click="BTN_Load_Click"
                            />
                </Grid>
            </materialDesign:Card>

            <!-- DATA GRID -->
            <materialDesign:Card Grid.Row="2"
                                 Margin="20,0,20,20"
                                 Padding="10"
                                 materialDesign:ElevationAssist.Elevation="Dp2">

                <DataGrid x:Name="DG_DeliveryStatus"
                          ItemsSource="{Binding Path=deliverystatus,UpdateSourceTrigger=PropertyChanged}"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          IsReadOnly="True"
                          Style="{StaticResource MaterialDesignDataGrid}">

                    <DataGrid.Columns>

                        <DataGridTextColumn Header="Item Code"
                                            Binding="{Binding ItemCode}"
                                            Width="*"/>

                        <DataGridTextColumn Header="Item Name"
                                            Binding="{Binding ItemName}"
                                            Width="*"/>

                        <DataGridTextColumn Header="Out for Delivery"
                                            Binding="{Binding TotalForDelivery}"
                                            Width="*"/>

                        <DataGridTextColumn Header="Delivered"
                                            Binding="{Binding Delivered}"
                                            Width="*"/>       

                        <DataGridTextColumn Header="Remaining"
                                            Binding="{Binding Remaining}"
                                            Width="*"/>

                        <DataGridTemplateColumn Header="Return Remaining Items" Width="180">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Button Content="Return"
                                        Height="30"
                                        Width="120"
                                        Margin="5,0,0,0"
                                        Style="{StaticResource MaterialDesignRaisedButton}"
                                        Click="ReturnButton_Click"/>                
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                    </DataGrid.Columns>
                </DataGrid>
            </materialDesign:Card>

        </Grid>
    </materialDesign:Card>
</Window>